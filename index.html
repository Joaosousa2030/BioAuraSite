<!doctype html>
<!--
  BioAura — Versão Profissional (single-file)
  Objetivo: manter o conteúdo original, mas modernizar layout, acessibilidade,
  desempenho e estética. Estilos e scripts incorporados para fácil preview.
  Observações:
  - Substitua as imagens placeholder (logo, produtos, textura) por ficheiros reais
    otimizados (webp/avif) antes da publicação.
  - Existem comentários explicativos ao longo do ficheiro para facilitar manutenção.
-->
<html lang="pt-PT">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <meta name="description" content="BioAura — Projeto escolar de cosmética natural sustentável que integra ciência e cuidado da pele.">
  <meta name="author" content="Equipa BioAura">
  <meta name="theme-color" content="#bda48a">

  <!-- Open Graph / Social previews -->
  <meta property="og:title" content="BioAura — Cosmética Natural Sustentável">
  <meta property="og:description" content="Projeto escolar que une química, biotecnologia e sustentabilidade para cosmética artesanal.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="/assets/og-bioaura.webp">

  <title>BioAura — Cosmética Natural Sustentável</title>

  <!-- Preconnects for performance -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">

  <!-- Favicon (gerar em diferentes resoluções no build) -->
  <link rel="icon" href="/assets/favicon.ico" sizes="any">

  <style>
    /* =========================================================
       VARIÁVEIS PRINCIPAIS
       ========================================================= */
    :root{
      --bg-1: #f4ece1; /* papel */
      --bg-2: #bda48a; /* base */
      --card: #fff7ed; /* cards */
      --accent: #6b4a2b; /* marrom principal */
      --muted: #3b2b1a; /* texto */
      --gold: #caa45d; /* dourado */
      --green: #6b8a5a; /* verde natural */
      --glass: rgba(255,255,255,0.7);
      --radius: 14px;
      --maxw: 1200px;
      --transition: 240ms cubic-bezier(.2,.9,.2,1);
    }

    /* Acessibilidade: reduz animações quando preferido */
    @media (prefers-reduced-motion: reduce) {
      * { animation-duration: 0.001ms !important; transition-duration: 0.001ms !important; }
    }

    /* Reset simples e boas práticas */
    *,*::before,*::after{box-sizing:border-box}
    html,body{height:100%;}
    body{
      margin:0;
      font-family: Montserrat, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color:var(--muted);
      background: linear-gradient(180deg,#f8f3ea 0%, #f2e9dd 40%, #efe6db 100%);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.6;
      -webkit-text-size-adjust:100%;
      text-rendering:optimizeLegibility;
    }

    /* Skip link (acessibilidade) */
    .skip-link{
      position:fixed;left:12px;top:12px;background:#0b0b0b;color:#fff;padding:8px 12px;border-radius:8px;z-index:999;transform:translateY(-120%);
      transition:transform var(--transition);
    }
    .skip-link:focus{transform:translateY(0%)}

    /* Container central */
    .container{max-width:var(--maxw);margin:0 auto;padding:28px;}

    /* Header */
    header{background:linear-gradient(90deg,var(--accent), #4b2f1a);padding:14px 0;color:#fff;position:sticky;top:0;z-index:50;border-bottom:3px solid rgba(202,164,93,0.25);backdrop-filter: blur(6px);}

    nav{display:flex;align-items:center;justify-content:space-between;gap:18px}
    .brand{display:flex;align-items:center;gap:14px}
    .logo{display:inline-flex;align-items:center;gap:12px}
    .logo svg{height:52px;width:52px}
    .brand h1{font-family:'Playfair Display',serif;margin:0;font-weight:700;font-size:20px;color:#fff}
    .brand p{margin:0;font-size:12px;color:rgba(255,255,255,0.85)}

    /* Nav links */
    .navlinks{display:flex;gap:16px;align-items:center}
    .navlinks a{color:rgba(255,255,255,0.95);text-decoration:none;font-weight:600;padding:8px 12px;border-radius:10px;transition:all var(--transition)}
    .navlinks a:hover,.navlinks a:focus{background:rgba(255,255,255,0.06);box-shadow:0 4px 14px rgba(0,0,0,0.18)}

    .cta-button{background:linear-gradient(90deg,var(--gold),#e6c57d);color:#2b1a0f;padding:10px 16px;border-radius:12px;font-weight:800;border:none;cursor:pointer}

    /* Mobile menu */
    .menu-toggle{display:none;background:none;border:0;color:#fff}

    /* HERO */
    .hero{
      display:grid;grid-template-columns:1fr 420px;gap:32px;align-items:center;padding:56px 0;position:relative;overflow:visible
    }

    .hero-card{
      background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,250,244,0.95));
      border-radius:20px;padding:36px;border:1px solid rgba(0,0,0,0.06);
      box-shadow: 0 12px 40px rgba(13,12,11,0.06);
    }

    .hero h2{font-family:'Playfair Display',serif;font-size:clamp(26px,4.6vw,40px);margin:0 0 8px;color:#2b1a0f}
    .hero p.lead{margin:0;color:#4a3628;font-size:1.02rem}

    .hero-visual{position:relative;display:flex;align-items:center;justify-content:center}
    .product-frame{width:100%;max-width:420px;border-radius:18px;padding:18px;background:linear-gradient(180deg,#4b2f1a,#6b4a2b);box-shadow:0 22px 60px rgba(0,0,0,0.28);}
    .product-frame img{display:block;width:100%;height:auto;border-radius:12px;border:3px solid var(--gold)}

    /* Cards grid */
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px}
    .card{background:var(--card);padding:18px;border-radius:12px;border:1px solid rgba(0,0,0,0.05);box-shadow:0 8px 20px rgba(0,0,0,0.06);transition:transform var(--transition),box-shadow var(--transition)}
    .card:hover{transform:translateY(-8px);box-shadow:0 18px 36px rgba(0,0,0,0.10)}

    h3{font-family:'Playfair Display',serif;color:var(--accent);margin-top:0}
    h4{margin:6px 0 12px;color:#3a2c1f}

    ul{padding-left:18px;margin:8px 0}

    /* Produtos foto grande */
    .produtos-foto{padding:48px 0;text-align:center;background:linear-gradient(180deg,rgba(75,47,26,0.06),rgba(75,47,26,0.02));border-radius:12px}
    .produtos-foto img{max-width:920px;width:92%;border-radius:16px;box-shadow:0 20px 40px rgba(0,0,0,0.18);border:4px solid rgba(202,164,93,0.18)}

    /* Notas técnicas e código */
    .formula pre{white-space:pre-wrap;word-break:break-word;background:#f7efe3;padding:14px;border-radius:10px;border:1px solid #e9dcc6;font-family:monospace}

    /* Footer */
    footer{margin-top:42px;padding:32px 0;background:linear-gradient(180deg,#4b2f1a,#3a2312);color:#fff;text-align:center;border-top:3px solid rgba(202,164,93,0.14)}
    footer img{height:56px;margin-bottom:12px}

    /* Floating top button (bisnaga) */
    #topBtn{position:fixed;right:22px;bottom:22px;z-index:60;background:transparent;border:0;padding:0;cursor:pointer}
    .bisnaga{width:48px;height:94px;background:linear-gradient(180deg,var(--accent) 8%,#8b623c 65%,var(--gold) 100%);border-radius:10px 10px 22px 22px;display:flex;align-items:center;justify-content:center;box-shadow:0 8px 20px rgba(0,0,0,0.32)}
    .bisnaga::after{content:'↑';color:#fff8e7;font-weight:800}

    /* Tooltip simples */
    .tooltip{position:relative;border-bottom:1px dotted rgba(0,0,0,0.12);cursor:help}
    .tooltip[data-tip]:hover::after{content:attr(data-tip);position:absolute;left:50%;transform:translateX(-50%);bottom:calc(100% + 10px);background:var(--accent);color:#fff;padding:8px 10px;border-radius:8px;white-space:nowrap;font-size:13px}

    /* Form modal (contacto) */
    .modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(8,6,6,0.45);visibility:hidden;opacity:0;transition:opacity var(--transition),visibility var(--transition);z-index:90}
    .modal.open{visibility:visible;opacity:1}
    .modal-dialog{background:#fff;padding:20px;border-radius:12px;max-width:640px;width:94%;box-shadow:0 20px 60px rgba(0,0,0,0.28)}
    .modal .form-row{display:flex;gap:10px}
    .modal input,.modal textarea{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(0,0,0,0.08)}

    /* Responsividade */
    @media (max-width:980px){
      .hero{grid-template-columns:1fr;gap:22px;padding:40px 0}
      .product-frame{max-width:360px;margin:0 auto}
      .navlinks{display:none}
      .menu-toggle{display:inline-flex}
    }

    @media (max-width:600px){
      .container{padding:18px}
      header{padding:10px 0}
      .brand h1{font-size:18px}
      .hero h2{font-size:22px}
      .produtos-foto img{width:96%}
    }

    /* Focus outline acessível */
    a:focus,button:focus,input:focus,textarea:focus{outline:3px solid rgba(202,164,93,0.35);outline-offset:3px}

  </style>
</head>
<body>
  <a class="skip-link" href="#main">Saltar para o conteúdo</a>
  <header>
    <div class="container">
      <nav aria-label="Navegação principal">
        <div class="brand">
          <a href="#" class="logo" aria-label="BioAura — Home">
            <!-- SVG logo inline (melhor que PNG para performance e styling) -->
            <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true">
              <defs>
                <linearGradient id="g1" x1="0" x2="1">
                  <stop offset="0" stop-color="#caa45d" />
                  <stop offset="1" stop-color="#6b4a2b" />
                </linearGradient>
              </defs>
              <rect width="100" height="100" rx="18" fill="url(#g1)" />
              <g transform="translate(18,18) scale(0.64)" fill="#fff">
                <path d="M40 8c-9 0-16 7-16 16s7 16 16 16 16-7 16-16S49 8 40 8z" opacity="0.95"></path>
                <path d="M8 72c10-12 30-20 32-20s22 8 32 20H8z" opacity="0.06"></path>
              </g>
            </svg>
          </a>
          <div>
            <h1>BioAura</h1>
            <p>Aluzia-te — valoriza a luz natural da pele</p>
          </div>
        </div>

        <div class="navlinks" role="navigation" aria-label="Links principais">
          <a href="#sobre">Sobre</a>
          <a href="#produtos">Produtos</a>
          <a href="#ciencia">Fundamentos</a>
          <a href="#planeamento">Planeamento</a>
          <a href="#contacto">Contacto</a>
        </div>

        <button class="menu-toggle" aria-expanded="false" aria-controls="mobile-menu" aria-label="Abrir menu">
          <svg width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18M3 12h18M3 18h18"></path></svg>
        </button>

        <div id="mobile-menu" style="display:none;position:absolute;right:16px;top:74px;background:rgba(75,47,26,0.95);padding:14px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,0.3)">
          <a href="#sobre" style="display:block;padding:8px 6px;color:#fff">Sobre</a>
          <a href="#produtos" style="display:block;padding:8px 6px;color:#fff">Produtos</a>
          <a href="#ciencia" style="display:block;padding:8px 6px;color:#fff">Fundamentos</a>
          <a href="#planeamento" style="display:block;padding:8px 6px;color:#fff">Planeamento</a>
          <a href="#contacto" style="display:block;padding:8px 6px;color:#fff">Contacto</a>
        </div>

      </nav>
    </div>
  </header>

  <main id="main" class="container" role="main">

    <!-- HERO -->
    <section class="hero" aria-labelledby="hero-title">
      <div class="hero-card" role="region" aria-labelledby="hero-title">
        <h2 id="hero-title">Projeto BioAura — Cosmética Natural Sustentável</h2>
        <p class="lead">Desenvolvido por alunos do 12.º ano (Biologia e Química). Integramos ciência, biotecnologia e princípios de química verde para criar cosméticos artesanais seguros, sustentáveis e eficazes.</p>

        <div style="margin-top:20px;display:flex;gap:12px;align-items:center;flex-wrap:wrap">
          <a class="cta-button" href="#produtos">Ver Produtos</a>
          <button class="cta-button" id="open-contact">Contactar Equipa</button>
          <div style="font-size:13px;color:rgba(0,0,0,0.6)">Produção limitada — pack escolar</div>
        </div>

        <div style="margin-top:22px;display:flex;gap:12px;align-items:center">
          <div style="display:flex;align-items:center;gap:10px">
            <svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2l2.09 6.26L20 9.27l-4.91 3.57L17.18 20 12 16.9 6.82 20l1.09-7.16L3 9.27l5.91-1.01L12 2z" fill="#caa45d"/></svg>
            <strong style="font-weight:700">Sustentabilidade</strong>
            <span style="color:#6b4a2b">— ingredientes de origem vegetal</span>
          </div>
        </div>
      </div>

      <div class="hero-visual">
        <div class="product-frame" aria-hidden="true">
          <!-- Use srcset e formatos modernos; aqui placeholders -->
          <img src="/assets/produtos-bioaura.webp" alt="Frascos artesanais BioAura" loading="lazy" width="420" height="360">
        </div>
      </div>
    </section>

    <!-- Produtos showcase grande -->
    <section class="produtos-foto" aria-labelledby="produtos-title" style="margin-top:22px">
      <h3 id="produtos-title" style="display:none">Produtos BioAura</h3>
      <picture>
        <source srcset="/assets/produtos-hero.avif" type="image/avif">
        <source srcset="/assets/produtos-hero.webp" type="image/webp">
        <img src="/assets/produtos-hero.jpg" alt="Linha de produtos BioAura em frascos artesanais" loading="lazy">
      </picture>
    </section>

    <!-- Sobre -->
    <section id="sobre" aria-labelledby="sobre-title" style="padding-top:44px">
      <h3 id="sobre-title">A Nossa Essência</h3>
      <div class="grid">
        <div class="card">
          <h4>Conceito BioAura</h4>
          <p>A BioAura nasceu de um projecto escolar com o propósito de unir ciência e sustentabilidade em produtos de cosmética natural que respeitam o corpo e o planeta.</p>
          <p><strong>Slogan:</strong> "Aluzia-te"</p>
        </div>

        <div class="card">
          <h4>Pilares Fundamentais</h4>
          <ul>
            <li>Química Verde</li>
            <li>Biotecnologia</li>
            <li>Sustentabilidade</li>
            <li>Segurança e testes (patch test)</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Produtos detalhados -->
    <section id="produtos" aria-labelledby="produtos-section" style="padding-top:44px">
      <h3 id="produtos-section">Os Nossos Produtos</h3>
      <div class="grid" style="margin-top:10px">
        <article class="card" aria-labelledby="bronzeador-title">
          <h4 id="bronzeador-title">Bronzeador Natural — 150 mL</h4>
          <p><strong>Função:</strong> Realça o tom da pele e hidrata sem alterar a melanina.</p>
          <ul>
            <li>Óleo de lavanda — 120 mL</li>
            <li>Manteiga de karité — 20 g</li>
            <li>Café moído — 5 g</li>
            <li>Cacau em pó — 3 g</li>
            <li>Urucum em pó — 2 g</li>
          </ul>
        </article>

        <article class="card" aria-labelledby="creme-title">
          <h4 id="creme-title">Creme de Massagem — 100 mL</h4>
          <p><strong>Função:</strong> Hidrata, suaviza e fortalece a barreira cutânea.</p>
          <ul>
            <li>Manteiga de karité — 15 g</li>
            <li>Óleo de amêndoas doces — 20 mL</li>
            <li>Óleo de rícino — 5 mL</li>
            <li>Cera de abelha — 5 g</li>
            <li>Água destilada — 50 mL</li>
            <li>Gel de aloe vera — 3 mL</li>
          </ul>
        </article>
      </div>
    </section>

    <!-- Ciência -->
    <section id="ciencia" aria-labelledby="ciencia-title" style="padding-top:44px">
      <h3 id="ciencia-title">Fundamentos Científicos</h3>
      <div class="grid">
        <div class="card">
          <h4>Química</h4>
          <p><strong>Extração de pigmentos:</strong> pigmentos hidrofóbicos (café, cacau, urucum) são integrados na fase oleosa para melhor dispersão.</p>
          <p><strong>Emulsificação:</strong> união controlada da fase oleosa e aquosa com emulsificantes naturais ou biomiméticos.</p>
          <p><strong>Oxidação e antioxidantes:</strong> a vitamina E (tocoferol) é usada para retardar a oxidação dos óleos vegetais.</p>
        </div>

        <div class="card">
          <h4>Biologia da Pele</h4>
          <ul>
            <li><strong>Epiderme:</strong> proteção e hidratação.</li>
            <li><strong>Derme:</strong> vasos, nervos e glândulas.</li>
            <li><strong>Hipoderme:</strong> reserva energética e proteção térmica.</li>
          </ul>
        </div>
      </div>

      <div class="card" style="margin-top:18px">
        <h4>Notas Técnicas</h4>
        <div class="formula">
          <pre>
- Banho-maria: 60–70 °C
- Adicionar conservantes a 35–40 °C
- Embalagem: frascos escuros (proteção à luz)
- Testes: patch test para avaliar reações locais e estabilidade físico-química
          </pre>
        </div>
      </div>
    </section>

    <!-- Planeamento -->
    <section id="planeamento" aria-labelledby="planeamento-title" style="padding-top:44px">
      <h3 id="planeamento-title">Planeamento e Execução</h3>
      <div class="grid">
        <div class="card">
          <h4>1.º Período</h4>
          <ul>
            <li>Planeamento e criação do logótipo.</li>
            <li>Pesquisa de ingredientes — segurança e fornecedores.</li>
          </ul>
        </div>
        <div class="card">
          <h4>2.º Período</h4>
          <ul>
            <li>Criação de patchs de teste e registo de resultados.</li>
            <li>Ajuste de fórmulas e validação microbiológica (se aplicável).</li>
          </ul>
        </div>
        <div class="card">
          <h4>3.º Período</h4>
          <ul>
            <li>Produção final e relatório.</li>
            <li>Apresentação e divulgação.</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Contacto -->
    <section id="contacto" aria-labelledby="contacto-title" style="padding-top:44px;margin-bottom:18px">
      <h3 id="contacto-title">Contacto</h3>
      <div class="card">
        <p>Para mais informações, entre em contacto com a equipa responsável através do formulário ou email.</p>
        <button class="cta-button" id="open-contact-2">Abrir Formulário</button>
      </div>
    </section>

  </main>

  <!-- Footer -->
  <footer>
    <div class="container">
      <img src="/assets/logo-bioaura-white.svg" alt="Logo BioAura" loading="lazy">
      <div>© BioAura — Projeto escolar</div>
      <div style="margin-top:8px;font-size:13px;color:rgba(255,255,255,0.85)">Feito com ♥ por alunos — matéria experimental. Não substitui aconselhamento profissional.</div>
    </div>
  </footer>

  <!-- Floating button topo -->
  <button id="topBtn" aria-label="Voltar ao topo">
    <div class="bisnaga" aria-hidden="true"><!-- ícone --></div>
  </button>

  <!-- Modal de contacto (inicialmente invisível) -->
  <div class="modal" id="contact-modal" role="dialog" aria-modal="true" aria-labelledby="contact-modal-title">
    <div class="modal-dialog">
      <h3 id="contact-modal-title">Contacte a Equipa BioAura</h3>
      <form id="contact-form" class="contact-form" novalidate>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:8px">
          <input type="text" id="name" name="name" placeholder="Nome" required aria-required="true">
          <input type="email" id="email" name="email" placeholder="Email" required aria-required="true">
        </div>
        <div style="margin-top:10px">
          <input type="text" id="subject" name="subject" placeholder="Assunto" required aria-required="true">
        </div>
        <div style="margin-top:10px">
          <textarea id="message" name="message" rows="6" placeholder="Mensagem" required aria-required="true"></textarea>
        </div>
        <div style="margin-top:10px;display:flex;gap:10px;align-items:center">
          <button class="cta-button" type="submit">Enviar</button>
          <button type="button" id="close-modal" style="background:transparent;border:0;color:var(--accent);cursor:pointer">Fechar</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    /* =========================================================
       Scripts: Interacções, acessibilidade e pequenas melhorias
       ========================================================= */
    (function(){
      const menuToggle = document.querySelector('.menu-toggle');
      const mobileMenu = document.getElementById('mobile-menu');
      const navLinks = document.querySelector('.navlinks');

      // Mobile menu toggle
      menuToggle && menuToggle.addEventListener('click', function(){
        const expanded = this.getAttribute('aria-expanded') === 'true';
        this.setAttribute('aria-expanded', String(!expanded));
        if(mobileMenu.style.display === 'none' || mobileMenu.style.display === ''){
          mobileMenu.style.display = 'block';
        } else {
          mobileMenu.style.display = 'none';
        }
      });

      // Close mobile menu when clicking outside
      document.addEventListener('click', (e)=>{
        if(!menuToggle || !mobileMenu) return;
        if(e.target !== menuToggle && !mobileMenu.contains(e.target) && window.innerWidth < 980){
          mobileMenu.style.display = 'none';
          menuToggle.setAttribute('aria-expanded','false');
        }
      });

      // Scroll to top button
      const topBtn = document.getElementById('topBtn');
      window.addEventListener('scroll', () => {
        if(window.scrollY > 300) topBtn.style.display = 'block'; else topBtn.style.display = 'none';
      });
      topBtn && topBtn.addEventListener('click', ()=> window.scrollTo({top:0,behavior:'smooth'}));

      // Modal (contact)
      const openBtns = [document.getElementById('open-contact'), document.getElementById('open-contact-2')];
      const modal = document.getElementById('contact-modal');
      const closeModal = document.getElementById('close-modal');

      openBtns.forEach(b => b && b.addEventListener('click', ()=>{ modal.classList.add('open'); modal.querySelector('input,textarea').focus(); }));
      closeModal && closeModal.addEventListener('click', ()=>{ modal.classList.remove('open'); });
      modal && modal.addEventListener('click', (e)=>{ if(e.target === modal) modal.classList.remove('open'); });

      // Form submission (simulação) — substituir por integração real (Formspree/Netlify/API)
      const form = document.getElementById('contact-form');
      form && form.addEventListener('submit', function(e){
        e.preventDefault();
        // Validação simples
        const name = this.querySelector('#name').value.trim();
        const email = this.querySelector('#email').value.trim();
        const message = this.querySelector('#message').value.trim();
        if(!name || !email || !message){
          alert('Por favor preencha os campos obrigatórios.');
          return;
        }
        // Simular envio
        this.querySelector('button[type="submit"]').textContent = 'Enviando...';
        setTimeout(()=>{
          alert('Mensagem enviada! Obrigado.');
          this.reset();
          modal.classList.remove('open');
        },800);
      });

      // Scroll reveal (IntersectionObserver) — já com classes no CSS para transições
      const sections = document.querySelectorAll('main section');
      const io = new IntersectionObserver((entries)=>{
        entries.forEach(entry => {
          if(entry.isIntersecting){
            entry.target.style.opacity = 1;
            entry.target.style.transform = 'translateY(0px)';
            entry.target.style.transition = 'opacity 600ms ease, transform 600ms ease';
            io.unobserve(entry.target);
          }
        });
      },{threshold:0.12});
      sections.forEach(s => { s.style.opacity = 0; s.style.transform = 'translateY(22px)'; io.observe(s); });

      // Simple scrollspy to highlight active nav link
      const navItems = document.querySelectorAll('.navlinks a');
      const sectionMap = Array.from(navItems).map(a => document.querySelector(a.getAttribute('href'))).filter(Boolean);
      window.addEventListener('scroll', () => {
        let idx = sectionMap.findIndex(sec => sec.getBoundingClientRect().top > window.innerHeight * 0.35);
        if(idx === -1) idx = sectionMap.length - 1;
        navItems.forEach((a,i)=> a.style.opacity = (i <= idx ? '1' : '0.7'));
      });

      // Keyboard: Escape closes modal
      document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') modal && modal.classList.remove('open'); });

    })();
  </script>
</body>
</html>